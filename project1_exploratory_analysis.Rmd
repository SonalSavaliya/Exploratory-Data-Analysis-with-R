---
title: 'Project 1: Exploratory Analysis'
author: "Sonal Savaliya"
date: "November 28, 2018"
output: html_document
---

```{r}
require(ggplot2)
require(tidyverse)
require(lattice)
nyc_data = read_csv('NYC_Jobs.csv')
nyc_data
```

## Exploratory Analysis

1.Relationship between Work Location and IT and Non IT Job Opening with graph and explaination.

#### Ans.1

```{r}
IT_Location = nyc_data %>% group_by(`Work Location`) %>% summarize(IT_Opening = sum(IT))
IT_Location
```

```{r}

ggplot(data=IT_Location, aes(x=`Work Location`, y=IT_Opening)) +
    geom_bar(stat="identity", position=position_dodge(),fill="#56B4E9")+
    labs(title="Locations Vs Number of IT Opening")
```

Above graph shows the relationship between Work Location and IT Job Openings.

In NYC, in Manhattan has the maximum number of IT Job Opening around 250. After Manhattan, there are around 160 IT Job opening in Brooklyn. Whereas in the Bronx, there are not any IT Job Opening.

```{r}
NonIT_Location = nyc_data %>% group_by(`Work Location`) %>% summarize(NonIT_Opening = sum(Non_IT))
NonIT_Location
```


```{r}
ggplot(data=NonIT_Location, aes(x=`Work Location`, y=NonIT_Opening)) +
    geom_bar(stat="identity", position=position_dodge(),fill="#56B4E9")+
    labs(title="Locations Vs Number of Non IT Opening")

```

Above graph shows the relationship between Work Location and Non-IT Job Openings.

In NYC, there are maximum non-IT Job Openings in Manhattan around 1500. After Manhattan, in Queens, there are Non-IT Job Openings around 1250. Whereas in S.I(Staten Island), there is almost no job opening in Non-IT.



2. What is the average maximum and minimum annual and hourly salary in each locations.

#### Ans.2

```{r}
df2 = rename(nyc_data ,AvgMinAnnualSalary = Annual_salary_from, AvgMaxAnnualSalary= Annual_Salary_to, AvgMinHourlySalary = Hourly_Salary_from , AvgMaxHourlySalary = Hourly_Salary_to)

dd = df2 %>% group_by(`Work Location`) %>% summarise(AvgMinAnnualSalary = round(mean(AvgMinAnnualSalary)), AvgMaxAnnualSalary=round(mean(AvgMaxAnnualSalary)), AvgMinHourlySalary = round(mean(AvgMinHourlySalary)) , AvgMaxHourlySalary=round(mean(AvgMaxHourlySalary)))

dd

```
EXPLANATION - The above analysis result shows the average minimum and miximum salary in all the locations. The maximum and minimum average salary is annually and hourly based. This means that our analysis collect all the minimum and maximum salaries location wise and then calculates the average of all to give the results.

```{r}
dd3 =gather(dd, 'Annual Salary Range', Salary, 2:3)
ggplot(data=dd3, aes(x=`Work Location`, y=Salary, fill=`Annual Salary Range`)) +
    geom_bar(stat="identity", position=position_dodge(), colour="black") +
    scale_fill_manual(values=c("#999999", "#E69F00"))
```

EXPLANATION -The above plot shows the Annual average maximum and minimum salary on all locations. The average maximum salary is in NYC and least maximum salary is in Bronx. The highest average minimum annual salary is in NYC and least average minimum is at Bronx.

```{r}
hourly =gather(dd, 'Hourly Salary Range', Salary, 4:5)

hourly
ggplot(data=hourly, aes(x=`Work Location`, y=Salary, fill=`Hourly Salary Range`)) +
    geom_bar(stat="identity", position=position_dodge(), colour="black") +
    scale_fill_manual(values=c("#999999", "#E69F00"))
```

EXPLANATION -The above plot shows that average maximum and minimum hourly salary on all locations. The average maximum salary is in Queens and least maximum salary is in NYC. The highest average minimum hourly salary is in Queens and least average minimum is at NYC.

3. How many part-time and full time jobs are there in each location.

#### Ans.3

```{r}
df3<- nyc_data %>% group_by(`Work Location`) %>% summarise(Part_Time = sum(Part_Time), Full_Time=sum(Full_Time))
df3
df4=gather(df3,F_T_Time,F_T_number,2:3)
df4
```



```{r}
ggplot(data=df4, aes(x=`Work Location`, y=F_T_number, fill=F_T_Time)) +
    geom_bar(stat="identity", position=position_dodge(), colour="black") +
    scale_fill_manual(values=c("#999999", "#E69F00"))
```

Explaination--- The above result describes that 'Manhattan' has the maximum number of Part_Time jobs =1564, where as S.I. has the lowest number of Part_Time jobs=43.
On the other hand, Queens has the maximum number of Full_Time jobs=188 , whereas S.I again as the lowest number of Full_Time jobs= 2.
The ranking for Part_Time would be - Manhattan,Queens,Brooklyn,NYC,Bronx,S.I.
The ranking for Full_Time would be - Queens,Manhattan,Brooklyn,NYC,Bronx,S.I.


4. Relashionship between salary frequency based on location. Which Work Location has the most jobs opening provided with Annual Salary/Daily Salary/Hourly. Salary?

#### Ans.4

1.Locations Vs AnnualSalaryFreq
```{r}
jobannual <- aggregate(nyc_data$Annual_Salary_freq, by=list(nyc_data$`Work Location`), FUN=sum)
jobannual
colnames(jobannual) <- c("Locations", "AnnualSalaryFreq")  
jobannual <- jobannual[order(jobannual$AnnualSalaryFreq), ]  
jobannual$Locations <- factor(jobannual$Locations, levels = jobannual$Locations)
head(jobannual,8)
```

```{r}
# Draw plot
ggplot(jobannual, aes(x=Locations, y=AnnualSalaryFreq)) + geom_bar(stat="identity", width=.5, fill="tomato3") + labs(title="Ordered Bar Chart",subtitle="Locations Vs AnnualSalaryFreq", caption="source: NYC_Jobs")
```

From the above graph “Locations Vs AnnualSalaryFreq”, it can be seen that
*Manhattan has the most jobs opening, total of 1592, provide with annual salary. 
*The ranking will be: Manhattan, Queens, Brooklyn, Bronx, Staten Island.

2.Locations Vs DailySalaryFreq
```{r}
jobdaily <- aggregate(nyc_data$Daily_salary_freq, by=list(nyc_data$`Work Location`), FUN=sum)  
colnames(jobdaily) <- c("Locations", "DailySalaryFreq")  
jobdaily <- jobdaily[order(jobdaily$DailySalaryFreq), ] 
jobdaily$Locations <- factor(jobdaily$Locations, levels = jobdaily$Locations) 
head(jobdaily,8)
```

```{r}
ggplot(jobdaily, aes(x=Locations, y=DailySalaryFreq)) + geom_bar(stat="identity", width=.5, fill="tomato3") + labs(title="Ordered Bar Chart",subtitle="Locations Vs DailySalaryFreq", caption="source: NYC_Jobs")
```

From the above graph “Locations Vs DailySalaryFreq”, it can be seen that
*Manhattan has the most jobs opening, total of 13, provide with daily salary. And there are zero jobs opening provide with daily salary in Staten Island. 
*The ranking will be: Queens, Manhattan, Bronx, Brooklyn, Staten Island.

3.Locations Vs HourlySalaryFreq
```{r}
jobhourly <- aggregate(nyc_data$Hourly_salary_freq, by=list(nyc_data$`Work Location`), FUN=sum)  
colnames(jobhourly) <- c("Locations", "HourlySalaryFreq") 
jobhourly <- jobhourly[order(jobhourly$HourlySalaryFreq), ]  
jobhourly$Locations <- factor(jobhourly$Locations, levels = jobhourly$Locations)
head(jobhourly,8)
```

```{r}
ggplot(jobhourly, aes(x=Locations, y=HourlySalaryFreq)) + geom_bar(stat="identity", width=.5, fill="tomato3") + labs(title="Ordered Bar Chart",subtitle="Locations Vs HourlySalaryFreq", caption="source: NYC_Jobs")
```

From the above graph “Locations Vs HourlySalaryFreq”, it can be seen that
*Manhattan has the most jobs opening, total of 127, provide with Hourly salary. And there are only 4 jobs opening provide with hourly salary in Staten Island. 
*The ranking will be: Manhattan, Queens, Brooklyn, Bronx, Staten Island.

Observation
From the above result it is seen that Manhattan has the most jobs opening on both Anuuanl and Hourly salary. Queens has the most jobs opening for Daily Salary and has the second most jobs opening with Annual and Hourly salary. Staten Island has the least number of jobs opening on all anuual, daliy, and hourly salary.

###Conclusion

We worked on the dataset NYC_Jobs. After going through all the variables and details of the project and dataset we analysed all the available material and tried simplifying it as much as possible to make it understandable. We explored most of the variables which were relevant to our analysis. After dividing the job categories into IT and Non-IT fields we used the variables in relevance to the jobs available. We got to know about what are the salaries paid in 6 boroughs of NYC may it be maximum or minimum. Here are our findings - 
1. We got to know the relationship between Work Location and IT and Non IT Job Opening with graph and explaination. 
2. We explored the average salary in each locations both maximum and minimum on annual and hourly basis. 
3. We analysed jobs based on timings - both part-time and full time location wise. 
4. Explored the relashionship between salary frequency based on location.
After exploring and analyzing our data, and finding our results, We are still interested in predicting the outcomes related to all possible variables. For example, we can predict the salary range and IT/Non-IT Job Openings based on work locations.



